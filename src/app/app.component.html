<h1>Pizza Creator</h1>

<div>
  <button (click)="addNewPizza()">Add New Pizza</button>
  <button (click)="logForm()">Log Form</button>
</div>

<div *ngIf="!pizzaFormGroups.length">Add a Pizza to Continue!</div>

<article *ngFor="let form of pizzaFormGroups; index as i">
  <h2 (click)="setActivePizzaForm(i)">
    <i class="material-icons">
      {{ activePizza === i ? 'expand_more' : 'chevron_right' }}
    </i>
    Pizza #{{ i + 1 }}
  </h2>

  <div [class.collapsed]="activePizza !== i">
    <button (click)="removePizza(i)">Remove Pizza</button>

    <form [formGroup]="form">
      <app-form-select
        label="Size"
        [control]="getFormControlFromForm(form, 'size')"
        [options]="sizes"
      ></app-form-select>

      <app-form-select
        label="Crust"
        [control]="getFormControlFromForm(form, 'crust')"
        [options]="crusts"
      ></app-form-select>

      <app-form-select
        label="Sauce Type"
        [control]="getFormControlFromForm(form, 'sauceType')"
        [options]="sauceTypes"
      ></app-form-select>

      <app-form-select
        label="Sauce Amount"
        [control]="getFormControlFromForm(form, 'sauceAmount')"
        [options]="sauceAmounts"
      ></app-form-select>

      <app-form-select
        label="Cheese Type"
        [control]="getFormControlFromForm(form, 'cheeseType')"
        [options]="cheeseTypes"
      ></app-form-select>

      <app-form-select
        label="Cheese Amount"
        [control]="getFormControlFromForm(form, 'cheeseAmount')"
        [options]="cheeseAmounts"
      ></app-form-select>

      <app-form-toppings
        [toppings]="getToppingArrayFromForm(form)"
      ></app-form-toppings>
    </form>
  </div>
</article>
